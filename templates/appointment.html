{% extends "layout.html" %}

{% block title %}Selected Availability{% endblock %}

{% block body %}
<br />
<div class="container">
  <h1>Appointment details</h1>
  <br/>
    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">Clinic name</th>
          <th scope="col">{{clinic.name}}</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th scope="row">Clinic address</th>
          <td>{{clinic.physical_address}}</td>
        </tr>
        <tr>
          <th scope="row">Type of appointment</th>
          <td>{{"Walk-in" if walk_in else "Annual"}}</td>
        </tr>
          <tr>
          <th scope="row">Date</th>
          <td>{{date}}</td>
        </tr>
        <tr>
          <th scope="row">Start time</th>
          <td>{{time}}</td>
      </tbody>
    </table>

  <br />

  <button type="button" class="btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off" onClick="addToCart()">
    Add to Cart
  </button>
  <button type="button" class="btn btn-primary" data-toggle="button" aria-pressed="false" autocomplete="off" onclick="window.history.back()">
    Cancel
  </button>

  <script>
    function addToCart() {
        $.ajax({
            url: '/cart',
            type: 'POST',
            contentType: "application/json; charset=utf-8",
            data: JSON.stringify({
                clinic_id: {{clinic.id}},
                start: "{{datetime}}",
                walk_in: "{{walk_in}}"
            })
        });
    }
  </script>
</div>

<div class="footer-push"></div>
{% endblock %}